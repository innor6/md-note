# Template Method

**动机**：某个任务有稳定的整体流程结构，但各个步骤却可能有很多变化、晚期需求。

**定义**：定义一个操作中算法的骨架（稳定），而将一些步骤延迟（变化）到子类中。

**适用性**：

1. 一次性实现一个算法的不变部分，并将可变部分留给子类来实现
2. 只在流程的特定点调用钩子函数hook

**结构**：

- 基类中写一个静态的程序主流程，其中某些步骤调用虚函数；在子类中重写虚函数。

**总结**：

1. 用继承+虚函数实现的晚绑定，为编程框架提供了灵活的扩展点。
2. 反向控制结构，“我来调用你”。
3. 实现上，模板方法本身是非虚成员函数，在基类中将这些虚函数定义为protected，以保证只被模板方法调用；命名上，这些虚函数可以用Do-前缀。  