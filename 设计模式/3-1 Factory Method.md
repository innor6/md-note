### Factory Method

（虚构造器）

**定义**：定义一个用于创建对象的接口factory，让它的子类决定实例化哪一个类。使得一个类的实例化延迟到子类。

**动机**：松耦合的设计中，经常用到组合，即一个类中只使用另一个抽象基类的指针（而不是具体的子类）。此时需要factory来帮助类创建具体的对象。

**结构**：

- product：被组合的对象的抽象基类。
- creator：声明工厂方法接口createXX，即它返回一个product对象。
- 具体creator：creator的子类，实现createXX创建具体的对象。
- 用到product的类：
  - 含有一个creator*指针成员，在这个类构造时传给他具体的creator。
  - 当该类的成员函数中需要用到product时，通过creator提供的接口来创建。（显然此时这个类依赖的都是抽象基类creator和product，要创建哪个具体的product对象要在运行时才确定）

**总结**：

1. 隔离类对象的使用者和具体类型之间的耦合。（使得使用者 依赖 对象的抽象基类）
2. 解决“单个对象”的需求变化，缺点在于要求创建方法、参数相同。
3. strategy的赋值通常由工厂模式来实现。