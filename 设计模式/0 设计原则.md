# 面向对象设计原则

在变化频繁的地方应用设计模式；通常是稳定中包含变化的地方。



- DIP 依赖倒置

  - 高层模块不应该依赖低层模块，而是两者都依赖抽象。
  - 抽象（稳定）不应该依赖于实现细节（变化），细节应该依赖于抽象。

  理解：实现向稳定依赖。由于模块都依赖于稳定的抽象接口，从而变化都被隔离在了模块内部。

- OCP 开闭原则
  
  - 类应该对扩展开放，对修改封闭。（提高抽象层次）
- SRP 单一职责
  
  - 一个类应该有且只有一个改变的理由。即每个类只做一件事（违反时可将类分裂）
- LSP liskov替换
  - 子类必须能够替换父类。（强调继承的is a关系）
  - 子类可以扩展父类的功能，但不能改变父类原有的功能。
    - 子类可以实现父类的抽象方法，但不能覆盖父类的非抽象方法。
    - 当子类的方法重载父类的方法时，方法的前置条件（即方法的形参）要比父类方法的输入参数更宽松。
    - 当子类的方法实现父类的抽象方法时，方法的后置条件（即方法的返回值）要比父类更严格。
- ISP 接口隔离原则
  - 接口应该小而完备。
  - 不应该强迫客户模块依赖它用不到的接口。要避免这种耦合，分离接口。
- 优先使用对象组合，而不是继承
  
  - 对象的组合只要求有良好定义的接口，耦合度低。
- 封装变化点
  
  - 用封装来创建对象之间的分界层。同样是隔离变化，降低耦合。
- 面向接口编程
  - 将变量类型声明为接口；
  - 客户无需知道对象的具体类型，只需知道对象所具有的接口；
  - 减少依赖关系。



# 重构技法

静态绑定 → 动态绑定

早绑定 → 晚绑定

继承→ 组合

编译时依赖 → 运行时依赖

紧耦合 → 松耦合