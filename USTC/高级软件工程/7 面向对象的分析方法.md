# 6 结构化分析方法

过程论观点：数据和逻辑分离，世界的演变，是在逻辑作用下，数据做改变的一个过程，过程是相对稳定的、明确的和预定义的，小过程组合成大过程。    程序世界本质是过程，数据作为过程处理对象，逻辑作为过程的形式定义。世界就是各个过程不断进行的总体。

##### 结构化分析方法

一种建模技术，计算机的系统是数据流和一系列的转换构成的。

在模型的核心是数据词典，它描述了所有的在目标系统中使用的和生成的数据对象。围绕着这个核心的有三种图： ERD、DFD、STD

##### 基本思想

- 抽象：每个抽象层次上忽略问题的内部复杂性，只关注整个问题与外界的联系。
- 自顶向下的逐层分解：将问题不断分解为较小的问题，直到每个最底层的问题都足够简单

##### 结构化分析模型

- 数据字典：模型的核心，包含软件使用和产生所有数据的描述。
- DFD数据流图：功能建模，描述系统的输入数据流如何经过一系列的加工变换逐步变换成系统的输出数据流。
- ERD实体关系图：数据建模，描述数据字典中数据之间的关系。
- STD状态迁移图：行为建模，描述系统接收哪些外部事件，以及在外部事件的作用下的状态迁移情况。
- 数据对象描述：表示实体-关系图中每个数据对象的属性
- 加工规格说明PSPEC：描述数据流图的每个功能。
- 控制规格说明CSPEC：描述软件控制的附加信息

![QQ截图20191212204026](C:\Users\64589\OneDrive\文档\Tepora\USTC\高级软件工程\QQ截图20191212204026.png)



##### 数据建模

- 数据对象：只封装数据，不封装操作（矩形）
- 数据属性：原子数据项，不包含内部数据结构。（圆角矩形）
- 数据关系：数据对象按照某种关系相互连接，用ER图描述（菱形）
- 实体—关系图（ERD）

##### 功能建模

- 数据流图（DFD）：多级分层划分，数据流（箭头）、加工（泡）、数据源（双横线）及外部实体（矩形）。

（数据流图的扩充：控制流建模、控制流图CFD）

##### 行为建模

- 状态变迁图（STD）：通过描述状态、以及导致系统改变状态的事件，来表示系统的行为。













# 7 面向对象的分析方法

程序世界：数据+逻辑（属性+方法，静 / 动）



对象论观点：世界就是由各色对象组成，然后在初始作用力下，对象
间的交互，完成了世界的演进。



抽象：先有对象，后有类。类是抽象认知能力作用于对象后所衍生出来的抽象概念。（一般和特殊）

层次：抽象是有层次的，自下向上抽象形成单根的抽象层次树，抽象层次越高，具体度越低，其内涵越小，外延越大。

##### 耦合

联系是普遍的、客观的。

对象间通过消息耦合。

- 泛化耦合：继承关系
- 聚合：弱的拥有关系，部分和整体可分离，has-a
- 组合：强的拥有关系，部分和整体不可分离，contains-a
- 依赖：逻辑上相互协作（类B作为参数被类A在某个method方法中使用）
- 关联：强依赖关系，长期性的、平等的关系（被关联类B以类属性的形式出现在关联类A中）

##### OO

在设计和实现中，面向对象的方法是一种运用（对象、类、继承、封装、聚合、消息传送、多态性）等概念来构造系统的软件开发方法。

面向对象：对象+类+继承+通信

优点：符合人们认知规律，软件易于维护，继承机制支持软件的复用。

注意：并没有摒弃面向过程的方法。



对象：是指一组<u>属性</u>以及这组属性上的专用<u>操作</u>的封装体。

类：具体表现为一组具有相同属性和相同操作的对象的集合。

继承：表明了两个类在抽象层次树上的关系。子类中除了定义自己特有的属性和操作外，可以继承其父类的属性和操作，还可以对父类中的操作重新定义其实现方法。（实现代码的重用）

抽象类：定义这个类的操作接口

多态性：是指同一个操作作用于不同的对象上可以有不同的解释，并产生不同的执行结果。

# 面向对象的分析

获取和整理用户需求，建立问题域的精确模型。

- 需求描述
- 静态模型（对象模型）
- 动态模型（交互次序）
- 功能模型（数据交换）

##### 需求描述

内容包括：问题范围，功能需求，性能需求，应用环境及假设条件等

使用：用例图，用例模板。

##### 静态模型

1. 找出类-对象并进行筛选：动词名词法（类/方法），删除冗余、无关、笼统、属性、操作的对象。
2. 找出对象之间的关联：动词词组，通常表示关联关系
3. 划分主题
4. 找出对象的属性
5. 用继承组织和简化对象类
6. 迭代并反复提炼模型

得到：类图

##### 动态模型

与时间和变化有关的系统性质。

1. 编写脚本：某一执行期间内出现的一系列事件
2. 设计用户界面：界面原型
3. 画事件跟踪图：时序图？
4. 画状态图
5. 审查动态模型

得到：界面原型、时序图、状态图

##### 功能模型

系统中数据之间的依赖关系，以及有关的数据处理功能，它由一组<u>数据流图</u>组成。

辅助用。用于说明对象模型中操作的含义、动态模型中动作的意义、以及对象模型中约束的意义。 

# 结构化分析于面向对象分析

概念方面

- 结构化软件：功能的集合，通过模块以及模块和模块之间的分层调用关系实现；
- 面向对象软件：事物的集合，通过对象以及对象和对象之间的通讯联系实现

构成方面

- 结构化软件＝过程＋数据，以过程为中心；
- 面向对象软件＝（数据＋相应操作）的封装，以对象为中心；

运行控制方面

- 结构化软件：顺序处理方式，由过程驱动控制；
- 面向对象软件：交互式、并行处理方式，由消息驱动控制；

开发方面

- 结构化方法的工作重点是设计；（分析阶段和设计阶段采用了不相吻合的表达方式，需要转换）
- 面向对象方法的工作重点是分析；

应用方面

- 结构化方法更加适合数据类型比较简单的<u>数值计算和数据统计管理</u>软件的开发；
- 面向对象方法更加适合<u>大型复杂的人机交互式软件</u>和数据统计管理软件的开发；

注意：

1. 面向对象分析方法的出现并不意味结构化分析方法的消亡
2. 分析阶段（分析模型）可能会和设计阶段（设计模型）间有重合
3. 对于不同的分析人员，面向对象的分析模型的描述和构成可能会不同
4. 分析模型建立需要多次反复的迭代和细化。
5. 分析模型的质量直接关系到后续阶段的质量和最终产品的成败