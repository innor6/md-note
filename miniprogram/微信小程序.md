# 程序结构

##### JSON

页面静态配置。

全局配置：

pages：所有的页面路径，不需要js,json,wxml,wxss后缀名。（第一个路径作为首页）

window：定义小程序所有页面的顶部背景颜色，文字颜色定义等

页面配置：会覆盖全局配置，但只能对 window 对应的配置项进行配置。所以无需写 window 这个属性。

注： `sitemap.json` 用于管理页面是否允许被微信爬虫和索引，默认开启。

##### WXML

页面结构，由标签、属性等构成。

标签经常是包装好了的组件，如`view`, `button`, `text`。

使用组件的时候，可以设置组件的属性；还可以将组件的行为事件与js函数绑定（响应的数据绑定系统）。

MVVM，支持数据绑定 `{{}}` 、条件渲染 `wx:if` 、列表渲染、模板、引用等。

可以使用 `wxs` 在WXML中写函数脚本。

##### WXSS

页面样式，同样包括全局样式、局部样式。

新增了尺寸单位`rpx`，自动换算适配不同的屏幕。

##### JS

页面逻辑交互。

js中的变量都是局部变量。

全局数据可以放到App()中，并于getApp()获取该实例对象。

# 启动过程

WXML和WXSS工作在渲染层，JS工作在逻辑层。

两个线程：渲染层，逻辑层。

多个界面则对应多个渲染层的线程。

线程通过微信客户端（Native）进行通讯。

##### 程序启动

先下载代码到本地

打开首页：对应`app.json`中`pages`中的第一个路径。

触发回调：调用`app.js`定义的`App`实例的`onLaunch`函数。

整个小程序只有一个 App 实例，是全部页面共享的。可以通过 `getApp` 方法获取到全局唯一的 App 实例。

##### 页面加载

先根据`json`配置一个界面，随后加载页面的`WXML`结构和`wxss`样式，最后装载`.js`，其中的Page构造器中的`date`数据与`wxml`一起渲染出页面的最终结构。

渲染完界面之后，调用Page构造器的`onLoad`函数。

# API

页面切换： `wx.navigateTo({ url: '../logs/logs'})` ，更多见“页面路由”

事件监听：on开头，接收一个回调函数作为参数。

同步：Sync结尾，



组件

事件绑定与捕获：bind、catch、capture-bind、capture-catch。事件捕获先于事件冒泡，且顺序与冒泡相反。





# 设计

账户管理

- 注册
- 登录

答题

- 

查询

- 查询成绩
- 

